-- Comentarios
-- A Linha abaixo cria um Banco de Dados
create database dbmeusservicos;
-- A Linha abaixoescolhe o Banco de Dados
use dbmeusservicos;
-- Obloco de instruções abaixo cria uma Tabela
create table tbusuarios(
iduser MEDIUMINT NOT NULL AUTO_INCREMENT Primary key,
usuario varchar(50) not null,
cargo_usuario varchar(15),
telefone varchar(15) not null,
login varchar(15) not null unique,
senha varchar(15) not null,
perfil varchar(20) not null
);
insert into tbusuarios(iduser,usuario,cargo_usuario,telefone,login,senha,perfil)
values(1,'Administrador','Administrador','000000000000000','admin','admin123','Administrador');

create table tbclientes(
idcli MEDIUMINT NOT NULL AUTO_INCREMENT Primary key,
nomecli varchar(60) not null,
sexocli varcharacter(1),
cepcli varchar(8),
endcli varchar(150),
bairrocli varchar(30),
cidadecli varchar(30),
telefonecli varchar(15),
emailcli varchar(50)
);

select * from tbclientes;
insert into tbclientes(nomecli,sexocli,cepcli,endcli,bairrocli,cidadecli,telefonecli,emailcli)
values('Caixa','F','00000000','Loja','loja','loja','000000000000000','loja@gmail.com');

create table tbos(
os MEDIUMINT NOT NULL AUTO_INCREMENT Primary key,
data_os timestamp default current_timestamp,
tipo varchar(15) not null,
situacao varchar(20) not null,
previsao_entreg_os varchar(50),
equipamento varchar(150) not null,
defeito varchar(150) not null,
servico varchar(150),
tecnico varchar(30),
Valor float(10,2)
);

create table tbvenda(
idvenda MEDIUMINT NOT NULL AUTO_INCREMENT Primary key,
cliente_venda varchar(50),
nome varchar(50),
preco float(12,2),
quantidade int,
pagamento varchar(50)
);

create table tbtotalvendas(
id  MEDIUMINT NOT NULL AUTO_INCREMENT Primary key,
nome varchar(50),
dia date,
hora varchar(50),
venda float(12,2),
obs varchar(10000)
);
select * from tbtotalvendas;	

select * from tbtotalvendas where dia between '2022-06-10' and '2022-06-12';

create table tbprodutos(
idproduto MEDIUMINT NOT NULL AUTO_INCREMENT Primary key,
codigo varchar(18),
produto varchar(50),
valor_compra varchar(12),
valor_venda varchar(12),
fornecedor varchar(50),
obs text,
estoque varchar(30),
quantidade int,
referencial_compra varchar(22),
referencial_venda varchar(22),
compra_x_venda varchar(12)
);

select * from tbprodutos;

create table tbcompra(
idcompra MEDIUMINT NOT NULL AUTO_INCREMENT Primary key,
nome_produto varchar(50),
valor varchar(12),
valor_unidade float(12,2),
quantidade_comprada int,
fornecedor varchar(50)
);

select * from tbcompra;

create table tbgastos(
idgastos MEDIUMINT NOT NULL AUTO_INCREMENT Primary key,
valor float(12,2),
data_emicao date,
data_pagamento date,
nome varchar(50),
obs varchar(900),
status_pagamento varchar(50)
);

select * from tbgastos;	
update tbgastos set data_pagamento='2020-06-29' where idgastos=1;
REPLACE into tbgastos(status_pagamento)

select C.idcompra as ID_Nota, nome_produto as Produto, valor as Valor, quantidade_comprada as Quantidade_Adicionada, P.idproduto as ID_Produto, quantidade as Quantidade_em_Estoque from tbcompra as C right join tbprodutos as P on (C.idcompra = P.idproduto);

create table tbfornecedor(
idfornecedor MEDIUMINT NOT NULL AUTO_INCREMENT Primary key,
nome_fornecedor varchar(80),
razaosocial varchar(80),
pessoa_juridica_fisica varchar(80),
cnpj varchar(80),
cidade_fornecedor varchar(80),
bairro_fornecedor varchar(80),
complemento_fornecedor varchar(80),
cep_fornecedor varchar(8),
numero_fornecedor varchar(5),
telefone_fornecedor varchar(15),
email_fornecedor varchar(80)
);
select * from  tbfornecedor;






