-- Comentarios
-- A Linha abaixo cria um Banco de Dados
create database dbmeusservicos;
-- A Linha abaixoescolhe o Banco de Dados
use dbmeusservicos;
-- Obloco de instruções abaixo cria uma Tabela
create table tbusuarios(
iduser int primary key,
usuario varchar(50) not null,
cargo_usuario varchar(15),
telefone varchar(15) not null,
login varchar(15) not null unique,
senha varchar(15) not null,
perfil varchar(20) not null
);
insert into tbusuarios(iduser,usuario,cargo_usuario,telefone,login,senha,perfil)
values(1,'Administrador','Administrador','000000000000000','admin','admin123','admin');

create table tbclientes(
idcli int primary key auto_increment,
nomecli varchar(60) not null,
sexocli varcharacter(1),
cepcli varchar(8),
endcli varchar(150),
bairrocli varchar(30),
cidadecli varchar(30),
telefonecli varchar(15) not null,
emailcli varchar(50)
);
insert into tbclientes(nomecli,sexocli,cepcli,endcli,bairrocli,cidadecli,telefonecli,emailcli)
values('Caixa','F','00000000','Loja','loja','loja','000000000000000','loja@gmail.com');

create table tbos(
os int primary key auto_increment,
data_os timestamp default current_timestamp,
tipo varchar(15) not null,
situacao varchar(20) not null,
previsao_entreg_os varchar(50),
equipamento varchar(150) not null,
defeito varchar(150) not null,
servico varchar(150),
tecnico varchar(30),
Valor decimal(10,2),
idcli int not null,
foreign key(idcli) references tbclientes(idcli)
);

create table tbvenda(
idvenda MEDIUMINT NOT NULL AUTO_INCREMENT Primary key,
cliente_venda varchar(50),
nome varchar(50),
preco double,
quantidade int,
pagamento varchar(50)
);

create table tbtotalvendas(
id  MEDIUMINT NOT NULL AUTO_INCREMENT Primary key,
dia date,
hora varchar(50),
venda double,
obs varchar(10000)
);
select * from tbtotalvendas;	

select * from tbtotalvendas where dia between '2022-06-10' and '2022-06-12';

create table tbprodutos(
idproduto MEDIUMINT NOT NULL AUTO_INCREMENT Primary key,
codigo varchar(18),
produto varchar(50),
valor_compra double,
valor_venda double,
fornecedor varchar(50),
obs varchar(500),
estoque varchar(30),
quantidade int,
referencial_compra double,
referencial_venda double,
compra_x_venda double
);

select * from tbprodutos;

create table tbcompra(
idcompra MEDIUMINT NOT NULL AUTO_INCREMENT Primary key,
nome_produto varchar(50),
valor double,
valor_unidade double,
quantidade_comprada int,
fornecedor varchar(50),
data_pagamento date,
status_pagamento varchar(50)
);

select * from tbcompra;

create table tbgastos(
idgastos MEDIUMINT NOT NULL AUTO_INCREMENT Primary key,
valor double,
data_emicao date,
obs varchar(900)
);

select * from tbgastos;


select C.idcompra as ID_Nota, nome_produto as Produto, valor as Valor, quantidade_comprada as Quantidade_Adicionada, P.idproduto as ID_Produto, quantidade as Quantidade_em_Estoque from tbcompra as C right join tbprodutos as P on (C.idcompra = P.idproduto);

create table tbfornecedor(
idfornecedor MEDIUMINT NOT NULL AUTO_INCREMENT Primary key,
nome_fornecedor varchar(80),
razaosocial varchar(80),
pessoa_juridica_fisica varchar(80),
cnpj varchar(80),
cidade_fornecedor varchar(80),
bairro_fornecedor varchar(80),
complemento_fornecedor varchar(80),
cep_fornecedor varchar(80),
numero_fornecedor int,
telefone_fornecedor int,
email_fornecedor varchar(80)
);






